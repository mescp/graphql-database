mutation {

  cm1:createModule(data:
      { name: "计划管理" code:"PM" description: "计划管理" }
  ) {
    code
  }
  cm2:createModule(data:
      { name: "质量管理" code:"QM" description: "质量管理" }
  ) {
    code
  }
  cm3:createModule(data:
      { name: "库存管理" code:"IM" description: "库存管理" }
  ) {
    code
  }

  user1:createUser(data:
      { 
        name:"zhang" email:"zhang@asdf.com" password:"$2a$10$Uln7kFXSuo9Sl2.Y6QL3fOQuSfQ7PpqYG9YPZdQxsnm/w47uW8Y1u" description:"sdf" 
        roles:{
          set:[ADMIN,USER]
        }
        person: {
              create:{
                name: "张三"
              }
            }
      }
  ) { name }

  user2:createUser(data:
      { 
        name:"wang" email:"wang@asdf.com" password:"$2a$10$Uln7kFXSuo9Sl2.Y6QL3fOQuSfQ7PpqYG9YPZdQxsnm/w47uW8Y1u" description:"sdf" 
        roles:{
          set:[SYSTEM,USER]
        }
        person: {
              create:{
                name: "王五"
              }
            }
      }
  ) { name }

  user3:createUser(data:
      { 
        name:"li" email:"li@asdf.com" password:"$2a$10$Uln7kFXSuo9Sl2.Y6QL3fOQuSfQ7PpqYG9YPZdQxsnm/w47uW8Y1u" description:"sdf"
       roles:{
          set:[USER]
        }
        person: {
              create:{
                name: "李四"
              }
            }
      }
  ) { name }

  ug1:createUserGroup(data:
      { 
        code:"adminGroup" name: "管理员组" users:{
          connect:[{email:"li@asdf.com"},{email:"zhang@asdf.com"}]
        }
      }
  ) { code }

  ug2:createUserGroup(data:
      { 
        code:"userGroup" name: "普通用户组" users:{
          connect:[{email:"wang@asdf.com"}]
        }
      }
      
  ) { code }
  createMenu(data:{
    code: "01"
    name: "系统管理"
    menus: {
      create:[{
        code: "0101"
        name: "用户管理"
      },
      {
        code: "0102"
        name: "用户组管理"
      }
      ]
    }
  }){
    code
  }
  
  addAction:createAction(data:{
      code:"add"
      name:"添加"
  }){
    code
  }
  
  deleteAction:createAction(data:{
    code:"del"
    name:"删除"
  }){
    code
  }
  
  
  updateAction:createAction(data:{
    code:"update"
    name:"更新"
  }){
    code
  }
  
  queryAction:createAction(data:{
    code:"query"
    name:"查询"
  }){
    code
  }
  
  createPermission(data:{
    description:"adminGroup permission"
    menu: {
      connect:{
        code:"01"
      }
    }
    UserGroup:{
      connect:{
        code:"adminGroup"
      }
    }
    actions:
    {
      connect:[{
        code:"add"
      },
      {
        code:"del"
      }]
    }
  }){
    id
  }
}
